window.Modernizr=function(t,e,n){function r(t){m.cssText=t}function o(t,e){return r(w.join(t+";")+(e||""))}function a(t,e){return typeof t===e}function i(t,e){return!!~(""+t).indexOf(e)}function c(t,e){for(var r in t){var o=t[r];if(!i(o,"-")&&m[o]!==n)return"pfx"!=e||o}return!1}function l(t,e,r){for(var o in t){var i=e[t[o]];if(i!==n)return!1===r?t[o]:a(i,"function")?i.bind(r||e):i}return!1}function s(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+T.join(r+" ")+r).split(" ");return a(e,"string")||a(e,"undefined")?c(o,e):(o=(t+" "+C.join(r+" ")+r).split(" "),l(o,e,n))}var u,d,h={},f=e.documentElement,p="modernizr",g=e.createElement(p),m=g.style,y=e.createElement("input"),b=":)",v={}.toString,w=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",T=x.split(" "),C=x.toLowerCase().split(" "),k={svg:"http://www.w3.org/2000/svg"},E={},S={},M={},R=[],I=R.slice,L=function(t,n,r,o){var a,i,c,l,s=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(r,10))for(;r--;)c=e.createElement("div"),c.id=o?o[r]:p+(r+1),s.appendChild(c);return a=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),s.id=p,(u?s:d).innerHTML+=a,d.appendChild(s),u||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),i=n(s,t),u?s.parentNode.removeChild(s):(d.parentNode.removeChild(d),f.style.overflow=l),!!i},z=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var r;return L("@media "+e+" { #"+p+" { position: absolute; } }",function(e){r="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),r},N=function(){function t(t,o){o=o||e.createElement(r[t]||"div"),t="on"+t;var i=t in o;return i||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(t,""),i=a(o[t],"function"),a(o[t],"undefined")||(o[t]=n),o.removeAttribute(t))),o=null,i}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),O={}.hasOwnProperty;d=a(O,"undefined")||a(O.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return O.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=I.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=e.prototype;var a=new o,i=e.apply(a,n.concat(I.call(arguments)));return Object(i)===i?i:a}return e.apply(t,n.concat(I.call(arguments)))};return r}),E.flexbox=function(){return s("flexWrap")},E.flexboxlegacy=function(){return s("boxDirection")},E.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},E.canvastext=function(){return!(!h.canvas||!a(e.createElement("canvas").getContext("2d").fillText,"function"))},E.webgl=function(){return!!t.WebGLRenderingContext},E.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:L(["@media (",w.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},E.geolocation=function(){return"geolocation"in navigator},E.postmessage=function(){return!!t.postMessage},E.websqldatabase=function(){return!!t.openDatabase},E.indexedDB=function(){return!!s("indexedDB",t)},E.hashchange=function(){return N("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},E.history=function(){return!(!t.history||!history.pushState)},E.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},E.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},E.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),i(m.backgroundColor,"rgba")},E.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),i(m.backgroundColor,"rgba")||i(m.backgroundColor,"hsla")},E.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(m.background)},E.backgroundsize=function(){return s("backgroundSize")},E.borderimage=function(){return s("borderImage")},E.borderradius=function(){return s("borderRadius")},E.boxshadow=function(){return s("boxShadow")},E.textshadow=function(){return""===e.createElement("div").style.textShadow},E.opacity=function(){return o("opacity:.55"),/^0.55$/.test(m.opacity)},E.cssanimations=function(){return s("animationName")},E.csscolumns=function(){return s("columnCount")},E.cssgradients=function(){var t="background-image:";return r((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+w.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),i(m.backgroundImage,"gradient")},E.cssreflections=function(){return s("boxReflect")},E.csstransforms=function(){return!!s("transform")},E.csstransforms3d=function(){var t=!!s("perspective");return t&&"webkitPerspective"in f.style&&L("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},E.csstransitions=function(){return s("transition")},E.fontface=function(){var t;return L('@font-face {font-family:"font";src:url("https://")}',function(n,r){var o=e.getElementById("smodernizr"),a=o.sheet||o.styleSheet,i=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";t=/src/i.test(i)&&0===i.indexOf(r.split(" ")[0])}),t},E.generatedcontent=function(){var t;return L(["#",p,"{font:0/0 a}#",p,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},E.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},E.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return n},E.localstorage=function(){try{return localStorage.setItem(p,p),localStorage.removeItem(p),!0}catch(t){return!1}},E.sessionstorage=function(){try{return sessionStorage.setItem(p,p),sessionStorage.removeItem(p),!0}catch(t){return!1}},E.webworkers=function(){return!!t.Worker},E.applicationcache=function(){return!!t.applicationCache},E.svg=function(){return!!e.createElementNS&&!!e.createElementNS(k.svg,"svg").createSVGRect},E.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==k.svg},E.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(v.call(e.createElementNS(k.svg,"animate")))},E.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(v.call(e.createElementNS(k.svg,"clipPath")))};for(var A in E)d(E,A)&&(u=A.toLowerCase(),h[u]=E[A](),R.push((h[u]?"":"no-")+u));return h.input||function(){h.input=function(n){for(var r=0,o=n.length;r<o;r++)M[n[r]]=!!(n[r]in y);return M.list&&(M.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),M}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(t){for(var r,o,a,i=0,c=t.length;i<c;i++)y.setAttribute("type",o=t[i]),r="text"!==y.type,r&&(y.value=b,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&y.style.WebkitAppearance!==n?(f.appendChild(y),a=e.defaultView,r=a.getComputedStyle&&"textfield"!==a.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,f.removeChild(y)):/^(search|tel)$/.test(o)||(r=/^(url|email)$/.test(o)?y.checkValidity&&!1===y.checkValidity():y.value!=b)),S[t[i]]=!!r;return S}("search tel url email datetime date month week time datetime-local number range color".split(" "))}(),h.addTest=function(t,e){if("object"==typeof t)for(var r in t)d(t,r)&&h.addTest(r,t[r]);else{if(t=t.toLowerCase(),h[t]!==n)return h;e="function"==typeof e?e():e,f.className+=" "+(e?"":"no-")+t,h[t]=e}return h},r(""),g=y=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=m[t[p]];return e||(e={},g++,t[p]=g,m[g]=e),e}function a(t,n,r){if(n||(n=e),u)return n.createElement(t);r||(r=o(n));var a;return a=r.cache[t]?r.cache[t].cloneNode():f.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),!a.canHaveChildren||h.test(t)||a.tagUrn?a:r.frag.appendChild(a)}function i(t,n){if(t||(t=e),u)return t.createDocumentFragment();n=n||o(t);for(var a=n.frag.cloneNode(),i=0,c=r(),l=c.length;i<l;i++)a.createElement(c[i]);return a}function c(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?a(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var r=o(t);return!y.shivCSS||s||r.hasCSS||(r.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||c(t,r),t}var s,u,d=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",s="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){s=!0,u=!0}}();var y={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==d.shivCSS,supportsUnknownElements:u,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:l,createElement:a,createDocumentFragment:i};t.html5=y,l(e)}(this,e),h._version="2.8.3",h._prefixes=w,h._domPrefixes=C,h._cssomPrefixes=T,h.mq=z,h.hasEvent=N,h.testProp=function(t){return c([t])},h.testAllProps=s,h.testStyles=L,h.prefixed=function(t,e,n){return e?s(t,e,n):s(t,"pfx")},f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+R.join(" "),h}(this,this.document),function(t,e,n){"use strict";function r(t,e,n){var r,o=t.runtimeStyle&&t.runtimeStyle[e],a=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(r=a.left,o&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":n||0,n=a.pixelLeft+"px",a.left=r,o&&(t.runtimeStyle.left=o)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function o(t){return parseInt(t,10)}function a(t,e,o,a){if(t=(t||"").split(","),t=t[a||0]||t[0]||"auto",t=u.Util.trimText(t).split(" "),"backgroundSize"!==o||t[0]&&!t[0].match(/cover|contain|auto/)){if(t[0]=-1===t[0].indexOf("%")?r(e,o+"X",t[0]):t[0],t[1]===n){if("backgroundSize"===o)return t[1]="auto",t;t[1]=t[0]}t[1]=-1===t[1].indexOf("%")?r(e,o+"Y",t[1]):t[1]}else;return t}function i(t,e,n,r,o,a){var i,c,l,s,d=u.Util.getCSS(e,t,o);if(1===d.length&&(s=d[0],d=[],d[0]=s,d[1]=s),-1!==d[0].toString().indexOf("%"))l=parseFloat(d[0])/100,c=n.width*l,"backgroundSize"!==t&&(c-=(a||r).width*l);else if("backgroundSize"===t)if("auto"===d[0])c=r.width;else if(/contain|cover/.test(d[0])){var h=u.Util.resizeBounds(r.width,r.height,n.width,n.height,d[0]);c=h.width,i=h.height}else c=parseInt(d[0],10);else c=parseInt(d[0],10);return"auto"===d[1]?i=c/r.width*r.height:-1!==d[1].toString().indexOf("%")?(l=parseFloat(d[1])/100,i=n.height*l,"backgroundSize"!==t&&(i-=(a||r).height*l)):i=parseInt(d[1],10),[c,i]}function c(t,e){var n=[];return{storage:n,width:t,height:e,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var t=[];return n.push({type:"function",name:"drawShape",arguments:t}),{moveTo:function(){t.push({name:"moveTo",arguments:arguments})},lineTo:function(){t.push({name:"lineTo",arguments:arguments})},arcTo:function(){t.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){t.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){t.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(t,e){return n.push({type:"variable",name:t,arguments:e}),e}}}function l(t){return{zindex:t,children:[]}}var s,u={};u.Util={},u.Util.log=function(e){u.logging&&t.console&&t.console.log&&t.console.log(e)},u.Util.trimText=function(t){return function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),u.Util.asFloat=function(t){return parseFloat(t)},function(){var t=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,e=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;u.Util.parseTextShadows=function(n){if(!n||"none"===n)return[];for(var r=n.match(t),o=[],a=0;r&&a<r.length;a++){var i=r[a].match(e);o.push({color:i[0],offsetX:i[1]?i[1].replace("px",""):0,offsetY:i[2]?i[2].replace("px",""):0,blur:i[3]?i[3].replace("px",""):0})}return o}}(),u.Util.parseBackgroundImage=function(t){var e,n,r,o,a,i,c,l,s=" \r\n\t",u=[],d=0,h=0,f=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&l.push(n),"-"===e.substr(0,1)&&(o=e.indexOf("-",1)+1)>0&&(r=e.substr(0,o),e=e.substr(o)),u.push({prefix:r,method:e.toLowerCase(),value:a,args:l})),l=[],e=r=n=a=""};f();for(var p=0,g=t.length;p<g;p++)if(i=t[p],!(0===d&&s.indexOf(i)>-1)){switch(i){case'"':c?c===i&&(c=null):c=i;break;case"(":if(c)break;if(0===d){d=1,a+=i;continue}h++;break;case")":if(c)break;if(1===d){if(0===h){d=0,a+=i,f();continue}h--}break;case",":if(c)break;if(0===d){f();continue}if(1===d&&0===h&&!e.match(/^url$/i)){l.push(n),n="",a+=i;continue}}a+=i,0===d?e+=i:n+=i}return f(),u},u.Util.Bounds=function(t){var e,n={};return t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=t.offsetWidth,n.height=t.offsetHeight),n},u.Util.OffsetBounds=function(t){var e=t.offsetParent?u.Util.OffsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},u.Util.getCSS=function(t,n,r){void 0!==t&&(s=e.defaultView.getComputedStyle(t,null));var i=s[n];if(/^background(Size|Position)$/.test(n))return a(i,t,n,r);if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var c=i.split(" ");return c.length<=1&&(c[1]=c[0]),c.map(o)}return i},u.Util.resizeBounds=function(t,e,n,r,o){var a,i,c=n/r,l=t/e;return o&&"auto"!==o?c<l^"contain"===o?(i=r,a=r*l):(a=n,i=n/l):(a=n,i=r),{width:a,height:i}},u.Util.BackgroundPosition=function(t,e,n,r,o){var a=i("backgroundPosition",t,e,n,r,o);return{left:a[0],top:a[1]}},u.Util.BackgroundSize=function(t,e,n,r){var o=i("backgroundSize",t,e,n,r);return{width:o[0],height:o[1]}},u.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u.Util.Children=function(t){var e;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:function(t){var e=[];return null!==t&&function(t,e){var r=t.length,o=0;if("number"==typeof e.length)for(var a=e.length;o<a;o++)t[r++]=e[o];else for(;e[o]!==n;)t[r++]=e[o++];t.length=r}(e,t),e}(t.childNodes)}catch(t){u.Util.log("html2canvas.Util.Children failed with exception: "+t.message),e=[]}return e},u.Util.isTransparent=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},u.Util.Font=function(){var t={};return function(e,r,o){if(t[e+"-"+r]!==n)return t[e+"-"+r];var a,i,c,l=o.createElement("div"),s=o.createElement("img"),u=o.createElement("span");return l.style.visibility="hidden",l.style.fontFamily=e,l.style.fontSize=r,l.style.margin=0,l.style.padding=0,o.body.appendChild(l),s.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",u.style.fontFamily=e,u.style.fontSize=r,u.style.margin=0,u.style.padding=0,u.appendChild(o.createTextNode("Hidden Text")),l.appendChild(u),l.appendChild(s),a=s.offsetTop-u.offsetTop+1,l.removeChild(u),l.appendChild(o.createTextNode("Hidden Text")),l.style.lineHeight="normal",s.style.verticalAlign="super",i=s.offsetTop-l.offsetTop+1,c={baseline:a,lineWidth:1,middle:i},t[e+"-"+r]=c,o.body.removeChild(l),c}}(),function(){function t(t){return function(e){try{t.addColorStop(e.stop,e.color)}catch(t){n.log(["failed to add color stop: ",t,"; tried to add: ",e])}}}var n=u.Util,r={};u.Generate=r;var o=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];r.parseGradient=function(t,e){var n,r,a,i,c,l,s,u,d,h,f,p,g=o.length;for(r=0;r<g&&!(a=t.match(o[r]));r+=1);if(a)switch(a[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},c=a[2].match(/\w+/g))for(l=c.length,r=0;r<l;r+=1)switch(c[r]){case"top":n.y0=0,n.y1=e.height;break;case"right":n.x0=e.width,n.x1=0;break;case"bottom":n.y0=e.height,n.y1=0;break;case"left":n.x0=0,n.x1=e.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=e.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=e.height/2),c=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=c.length,s=1/Math.max(l-1,1),r=0;r<l;r+=1)u=c[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),u[2]?(i=parseFloat(u[2]),"%"===u[3]?i/=100:i/=e.width):i=r*s,n.colorStops.push({color:u[1],stop:i});break;case"-webkit-gradient":if(n={type:"radial"===a[2]?"circle":a[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},c=a[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),c&&(n.x0=c[1]*e.width/100,n.y0=c[2]*e.height/100,n.x1=c[3]*e.width/100,n.y1=c[4]*e.height/100),c=a[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(l=c.length,r=0;r<l;r+=1)u=c[r].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),i=parseFloat(u[2]),"from"===u[1]&&(i=0),"to"===u[1]&&(i=1),n.colorStops.push({color:u[3],stop:i});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},c=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),c&&(n.x0=c[1]*e.width/100,n.y0=c[2]*e.height/100,n.x1=e.width-n.x0,n.y1=e.height-n.y0),c=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(l=c.length,s=1/Math.max(l-1,1),r=0;r<l;r+=1)u=c[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),u[2]?(i=parseFloat(u[2]),u[3]&&(i/=100)):i=r*s,n.colorStops.push({color:u[1],stop:i});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},c=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),c&&(n.cx=c[1]*e.width/100,n.cy=c[2]*e.height/100),c=a[3].match(/\w+/),u=a[4].match(/[a-z\-]*/),c&&u)switch(u[0]){case"farthest-corner":case"cover":case"":d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(d,h,f,p);break;case"closest-corner":d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(d,h,f,p);break;case"farthest-side":"circle"===c[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=c[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===c[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=c[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(c=a[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=c.length,s=1/Math.max(l-1,1),r=0;r<l;r+=1)u=c[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),u[2]?(i=parseFloat(u[2]),"%"===u[3]?i/=100:i/=e.width):i=r*s,n.colorStops.push({color:u[1],stop:i})}return n},r.Gradient=function(n,r){if(0!==r.width&&0!==r.height){var o,a,i=e.createElement("canvas"),c=i.getContext("2d");if(i.width=r.width,i.height=r.height,o=u.Generate.parseGradient(n,r))switch(o.type){case"linear":a=c.createLinearGradient(o.x0,o.y0,o.x1,o.y1),o.colorStops.forEach(t(a)),c.fillStyle=a,c.fillRect(0,0,r.width,r.height);break;case"circle":a=c.createRadialGradient(o.cx,o.cy,0,o.cx,o.cy,o.rx),o.colorStops.forEach(t(a)),c.fillStyle=a,c.fillRect(0,0,r.width,r.height);break;case"ellipse":var l=e.createElement("canvas"),s=l.getContext("2d"),d=Math.max(o.rx,o.ry),h=2*d;l.width=l.height=h,a=s.createRadialGradient(o.rx,o.ry,0,o.rx,o.ry,d),o.colorStops.forEach(t(a)),s.fillStyle=a,s.fillRect(0,0,h,h),c.fillStyle=o.colorStops[o.colorStops.length-1].color,c.fillRect(0,0,i.width,i.height),c.drawImage(l,o.cx-o.rx,o.cy-o.ry,2*o.rx,2*o.ry)}return i}},r.ListAlpha=function(t){var e,n="";do{e=t%26,n=String.fromCharCode(e+64)+n,t/=26}while(26*t>26);return n},r.ListRoman=function(t){var e,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],o="",a=n.length;if(t<=0||t>=4e3)return t;for(e=0;e<a;e+=1)for(;t>=r[e];)t-=r[e],o+=n[e];return o}}(),u.Parse=function(r,o){function a(){return Math.max(Math.max(st.body.scrollWidth,st.documentElement.scrollWidth),Math.max(st.body.offsetWidth,st.documentElement.offsetWidth),Math.max(st.body.clientWidth,st.documentElement.clientWidth))}function i(){return Math.max(Math.max(st.body.scrollHeight,st.documentElement.scrollHeight),Math.max(st.body.offsetHeight,st.documentElement.offsetHeight),Math.max(st.body.clientHeight,st.documentElement.clientHeight))}function s(t,e){var n=parseInt(pt(t,e),10);return isNaN(n)?0:n}function d(t,e,n,r,o,a){"transparent"!==a&&(t.setVariable("fillStyle",a),t.fillRect(e,n,r,o),lt+=1)}function h(t,e,n){if(t.length>0)return e+n.toUpperCase()}function f(t,e){switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,h);case"uppercase":return t.toUpperCase();default:return t}}function p(t){return/^(normal|none|0px)$/.test(t)}function g(t,e,n,r){null!==t&&ut.trimText(t).length>0&&(r.fillText(t,e,n),lt+=1)}function m(t,e,n,r){var o=pt(e,"fontWeight"),a=pt(e,"fontFamily"),i=pt(e,"fontSize"),c=ut.parseTextShadows(pt(e,"textShadow"));switch(parseInt(o,10)){case 401:o="bold";break;case 400:o="normal"}if(t.setVariable("fillStyle",r),t.setVariable("font",[pt(e,"fontStyle"),pt(e,"fontVariant"),o,i,a].join(" ")),t.setVariable("textAlign","left"),c.length&&(t.setVariable("shadowColor",c[0].color),t.setVariable("shadowOffsetX",c[0].offsetX),t.setVariable("shadowOffsetY",c[0].offsetY),t.setVariable("shadowBlur",c[0].blur)),"none"!==n)return ut.Font(a,i,st)}function y(t,e,n,r,o){switch(e){case"underline":d(t,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,o);break;case"overline":d(t,n.left,Math.round(n.top),n.width,1,o);break;case"line-through":d(t,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,o)}}function b(t,e,n,r,o){var a;if(dt.rangeBounds&&!o)"none"===n&&0===ut.trimText(e).length||(a=v(e,t.node,t.textOffset)),t.textOffset+=e.length;else if(t.node&&"string"==typeof t.node.nodeValue){var i=r?t.node.splitText(e.length):null;a=w(t.node,o),t.node=i}return a}function v(t,e,n){var r=st.createRange();return r.setStart(e,n),r.setEnd(e,n+t.length),r.getBoundingClientRect()}function w(t,e){var n=t.parentNode,r=st.createElement("wrapper"),o=t.cloneNode(!0);r.appendChild(t.cloneNode(!0)),n.replaceChild(r,t);var a=e?ut.OffsetBounds(r):ut.Bounds(r);return n.replaceChild(o,r),a}function x(t,e,n){var r,a,i=n.ctx,c=pt(t,"color"),l=pt(t,"textDecoration"),s=pt(t,"textAlign"),u={node:e,textOffset:0};ut.trimText(e.nodeValue).length>0&&(e.nodeValue=f(e.nodeValue,pt(t,"textTransform")),s=s.replace(["-webkit-auto"],["auto"]),a=!o.letterRendering&&/^(left|right|justify|auto)$/.test(s)&&p(pt(t,"letterSpacing"))?e.nodeValue.split(/(\b| )/):e.nodeValue.split(""),r=m(i,t,l,c),o.chinese&&a.forEach(function(t,e){/.*[\u4E00-\u9FA5].*$/.test(t)&&(t=t.split(""),t.unshift(e,1),a.splice.apply(a,t))}),a.forEach(function(t,e){var o=b(u,t,l,e<a.length-1,n.transform.matrix);o&&(g(t,o.left,o.bottom,i),y(i,l,o,r,c))}))}function T(t,e){var n,r,o=st.createElement("boundelement");return o.style.display="inline",n=t.style.listStyleType,t.style.listStyleType="none",o.appendChild(st.createTextNode(e)),t.insertBefore(o,t.firstChild),r=ut.Bounds(o),t.removeChild(o),t.style.listStyleType=n,r}function C(t){var e=-1,n=1,r=t.parentNode.childNodes;if(t.parentNode){for(;r[++e]!==t;)1===r[e].nodeType&&n++;return n}return-1}function k(t,e){var n,r=C(t);switch(e){case"decimal":n=r;break;case"decimal-leading-zero":n=1===r.toString().length?r="0"+r.toString():r.toString();break;case"upper-roman":n=u.Generate.ListRoman(r);break;case"lower-roman":n=u.Generate.ListRoman(r).toLowerCase();break;case"lower-alpha":n=u.Generate.ListAlpha(r).toLowerCase();break;case"upper-alpha":n=u.Generate.ListAlpha(r)}return n+". "}function E(t,e,n){var r,o,a,i=e.ctx,c=pt(t,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(c)){if(o=k(t,c),a=T(t,o),m(i,t,"none",pt(t,"color")),"inside"!==pt(t,"listStylePosition"))return;i.setVariable("textAlign","left"),r=n.left,g(o,r,a.bottom,i)}}function S(t){var e=r[t];return!(!e||!0!==e.succeeded)&&e.img}function M(t,e){var n=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return{left:n,top:r,width:Math.min(t.left+t.width,e.left+e.width)-n,height:Math.min(t.top+t.height,e.top+e.height)-r}}function R(t,e,n){var r,o="static"!==e.cssPosition,a=o?pt(t,"zIndex"):"auto",i=pt(t,"opacity"),c="none"!==pt(t,"cssFloat");e.zIndex=r=l(a),r.isPositioned=o,r.isFloated=c,r.opacity=i,r.ownStacking="auto"!==a||i<1,n&&n.zIndex.children.push(e)}function I(t,e,n,r,o){var a=s(e,"paddingLeft"),i=s(e,"paddingTop"),c=s(e,"paddingRight"),l=s(e,"paddingBottom");D(t,n,0,0,n.width,n.height,r.left+a+o[3].width,r.top+i+o[0].width,r.width-(o[1].width+o[3].width+a+c),r.height-(o[0].width+o[2].width+i+l))}function L(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:s(t,"border"+e+"Width"),color:pt(t,"border"+e+"Color")}})}function z(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return pt(t,"border"+e+"Radius")})}function N(t,e,n,r){var o=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(a){var i=o(t,e,a),c=o(e,n,a),l=o(n,r,a),s=o(i,c,a),u=o(c,l,a),d=o(s,u,a);return[N(t,i,s,d),N(d,u,l,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function O(t,e,n,r,o,a,i){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",a,i]),(n[0]>0||n[1]>0)&&t.push(["line",o[0].start.x,o[0].start.y])}function A(t,e,n,r,o,a,i){var c=[];return e[0]>0||e[1]>0?(c.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(c)):c.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(c.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(c),c.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(c)):(c.push(["line",t.c2[0],t.c2[1]]),c.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(c.push(["line",o[1].end.x,o[1].end.y]),o[1].curveToReversed(c)):c.push(["line",t.c4[0],t.c4[1]]),c}function P(t,e,n){var r=t.left,o=t.top,a=t.width,i=t.height,c=e[0][0],l=e[0][1],s=e[1][0],u=e[1][1],d=e[2][0],h=e[2][1],f=e[3][0],p=e[3][1],g=a-s,m=i-h,y=a-d,b=i-p;return{topLeftOuter:yt(r,o,c,l).topLeft.subdivide(.5),topLeftInner:yt(r+n[3].width,o+n[0].width,Math.max(0,c-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:yt(r+g,o,s,u).topRight.subdivide(.5),topRightInner:yt(r+Math.min(g,a+n[3].width),o+n[0].width,g>a+n[3].width?0:s-n[3].width,u-n[0].width).topRight.subdivide(.5),bottomRightOuter:yt(r+y,o+m,d,h).bottomRight.subdivide(.5),bottomRightInner:yt(r+Math.min(y,a+n[3].width),o+Math.min(m,i+n[0].width),Math.max(0,d-n[1].width),Math.max(0,h-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:yt(r,o+b,f,p).bottomLeft.subdivide(.5),bottomLeftInner:yt(r+n[3].width,o+b,Math.max(0,f-n[3].width),Math.max(0,p-n[2].width)).bottomLeft.subdivide(.5)}}function B(t,e,n,r,o){var a=pt(t,"backgroundClip"),i=[];switch(a){case"content-box":case"padding-box":O(i,r[0],r[1],e.topLeftInner,e.topRightInner,o.left+n[3].width,o.top+n[0].width),O(i,r[1],r[2],e.topRightInner,e.bottomRightInner,o.left+o.width-n[1].width,o.top+n[0].width),O(i,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,o.left+o.width-n[1].width,o.top+o.height-n[2].width),O(i,r[3],r[0],e.bottomLeftInner,e.topLeftInner,o.left+n[3].width,o.top+o.height-n[2].width);break;default:O(i,r[0],r[1],e.topLeftOuter,e.topRightOuter,o.left,o.top),O(i,r[1],r[2],e.topRightOuter,e.bottomRightOuter,o.left+o.width,o.top),O(i,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,o.left+o.width,o.top+o.height),O(i,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,o.left,o.top+o.height)}return i}function U(t,e,n){var r,o,a,i,c,l,s=e.left,u=e.top,d=e.width,h=e.height,f=z(t),p=P(e,f,n),g={clip:B(t,p,n,f,e),borders:[]};for(r=0;r<4;r++)if(n[r].width>0){switch(o=s,a=u,i=d,c=h-n[2].width,r){case 0:c=n[0].width,l=A({c1:[o,a],c2:[o+i,a],c3:[o+i-n[1].width,a+c],c4:[o+n[3].width,a+c]},f[0],f[1],p.topLeftOuter,p.topLeftInner,p.topRightOuter,p.topRightInner);break;case 1:o=s+d-n[1].width,i=n[1].width,l=A({c1:[o+i,a],c2:[o+i,a+c+n[2].width],c3:[o,a+c],c4:[o,a+n[0].width]},f[1],f[2],p.topRightOuter,p.topRightInner,p.bottomRightOuter,p.bottomRightInner);break;case 2:a=a+h-n[2].width,c=n[2].width,l=A({c1:[o+i,a+c],c2:[o,a+c],c3:[o+n[3].width,a],c4:[o+i-n[3].width,a]
},f[2],f[3],p.bottomRightOuter,p.bottomRightInner,p.bottomLeftOuter,p.bottomLeftInner);break;case 3:i=n[3].width,l=A({c1:[o,a+c+n[2].width],c2:[o,a],c3:[o+i,a+n[0].width],c4:[o+i,a+c]},f[3],f[0],p.bottomLeftOuter,p.bottomLeftInner,p.topLeftOuter,p.topLeftInner)}g.borders.push({args:l,color:n[r].color})}return g}function F(t,e){var n=t.drawShape();return e.forEach(function(t,e){n[0===e?"moveTo":t[0]+"To"].apply(null,t.slice(1))}),n}function j(t,e,n){"transparent"!==n&&(t.setVariable("fillStyle",n),F(t,e),t.fill(),lt+=1)}function $(t,e,n){var r,o,a=st.createElement("valuewrap"),i=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];i.forEach(function(e){try{a.style[e]=pt(t,e)}catch(t){ut.log("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}}),a.style.borderColor="black",a.style.borderStyle="solid",a.style.display="block",a.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(a.style.lineHeight=pt(t,"height")),a.style.top=e.top+"px",a.style.left=e.left+"px",r="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value,r||(r=t.placeholder),o=st.createTextNode(r),a.appendChild(o),ft.appendChild(a),x(t,o,n),ft.removeChild(a)}function D(t){t.drawImage.apply(t,Array.prototype.slice.call(arguments,1)),lt+=1}function V(n,r){var o=t.getComputedStyle(n,r);if(o&&o.content&&"none"!==o.content&&"-moz-alt-content"!==o.content&&"none"!==o.display){var a=o.content+"",i=a.substr(0,1);i===a.substr(a.length-1)&&i.match(/'|"/)&&(a=a.substr(1,a.length-2));var c="url"===a.substr(0,3),l=e.createElement(c?"img":"span");return l.className=gt+"-before "+gt+"-after",Object.keys(o).filter(H).forEach(function(t){try{l.style[t]=o[t]}catch(e){ut.log(["Tried to assign readonly property ",t,"Error:",e])}}),c?l.src=ut.parseBackgroundImage(a)[0].args[0]:l.innerHTML=a,l}}function H(e){return isNaN(t.parseInt(e,10))}function W(t,e){var n=V(t,":before"),r=V(t,":after");(n||r)&&(n&&(t.className+=" "+gt+"-before",t.parentNode.insertBefore(n,t),at(n,e,!0),t.parentNode.removeChild(n),t.className=t.className.replace(gt+"-before","").trim()),r&&(t.className+=" "+gt+"-after",t.appendChild(r),at(r,e,!0),t.removeChild(r),t.className=t.className.replace(gt+"-after","").trim()))}function G(t,e,n,r){var o=Math.round(r.left+n.left),a=Math.round(r.top+n.top);t.createPattern(e),t.translate(o,a),t.fill(),t.translate(-o,-a)}function q(t,e,n,r,o,a,i,c){var l=[];l.push(["line",Math.round(o),Math.round(a)]),l.push(["line",Math.round(o+i),Math.round(a)]),l.push(["line",Math.round(o+i),Math.round(c+a)]),l.push(["line",Math.round(o),Math.round(c+a)]),F(t,l),t.save(),t.clip(),G(t,e,n,r),t.restore()}function _(t,e,n){d(t,e.left,e.top,e.width,e.height,n)}function X(t,e,n,r,o){var a=ut.BackgroundSize(t,e,r,o),i=ut.BackgroundPosition(t,e,r,o,a),c=pt(t,"backgroundRepeat").split(",").map(ut.trimText);switch(r=Q(r,a),c=c[o]||c[0]){case"repeat-x":q(n,r,i,e,e.left,e.top+i.top,99999,r.height);break;case"repeat-y":q(n,r,i,e,e.left+i.left,e.top,r.width,99999);break;case"no-repeat":q(n,r,i,e,e.left+i.left,e.top+i.top,r.width,r.height);break;default:G(n,r,i,{top:e.top,left:e.left,width:r.width,height:r.height})}}function Y(t,e,n){for(var r,o=pt(t,"backgroundImage"),a=ut.parseBackgroundImage(o),i=a.length;i--;)if(o=a[i],o.args&&0!==o.args.length){var c="url"===o.method?o.args[0]:o.value;r=S(c),r?X(t,e,n,r,i):ut.log("html2canvas: Error loading background:",o)}}function Q(t,e){if(t.width===e.width&&t.height===e.height)return t;var n,r=st.createElement("canvas");return r.width=e.width,r.height=e.height,n=r.getContext("2d"),D(n,t,0,0,t.width,t.height,0,0,e.width,e.height),r}function J(t,e,n){return t.setVariable("globalAlpha",pt(e,"opacity")*(n?n.opacity:1))}function K(t){return t.replace("px","")}function Z(t,e){var n=pt(t,"transform")||pt(t,"-webkit-transform")||pt(t,"-moz-transform")||pt(t,"-ms-transform")||pt(t,"-o-transform"),r=pt(t,"transform-origin")||pt(t,"-webkit-transform-origin")||pt(t,"-moz-transform-origin")||pt(t,"-ms-transform-origin")||pt(t,"-o-transform-origin")||"0px 0px";r=r.split(" ").map(K).map(ut.asFloat);var o;if(n&&"none"!==n){var a=n.match(bt);if(a)switch(a[1]){case"matrix":o=a[2].split(",").map(ut.trimText).map(ut.asFloat)}}return{origin:r,matrix:o}}function tt(t,e,n,r){var l=c(e?n.width:a(),e?n.height:i()),s={ctx:l,opacity:J(l,t,e),cssPosition:pt(t,"position"),borders:L(t),transform:r,clip:e&&e.clip?ut.Extend({},e.clip):null};return R(t,s,e),!0===o.useOverflow&&!0===/(hidden|scroll|auto)/.test(pt(t,"overflow"))&&!1===/(BODY)/i.test(t.nodeName)&&(s.clip=s.clip?M(s.clip,n):n),s}function et(t,e,n){var r={left:e.left+t[3].width,top:e.top+t[0].width,width:e.width-(t[1].width+t[3].width),height:e.height-(t[0].width+t[2].width)};return n&&(r=M(r,n)),r}function nt(t,e){var n=e.matrix?ut.OffsetBounds(t):ut.Bounds(t);return e.origin[0]+=n.left,e.origin[1]+=n.top,n}function rt(t,e,n,r){var o,a=Z(t,e),i=nt(t,a),c=tt(t,e,i,a),l=c.borders,s=c.ctx,u=et(l,i,c.clip),d=U(t,i,l),h=ht.test(t.nodeName)?"#efefef":pt(t,"backgroundColor");switch(F(s,d.clip),s.save(),s.clip(),u.height>0&&u.width>0&&!r?(_(s,i,h),Y(t,u,s)):r&&(c.backgroundColor=h),s.restore(),d.borders.forEach(function(t){j(s,t.args,t.color)}),n||W(t,c),t.nodeName){case"IMG":(o=S(t.getAttribute("src")))?I(s,t,o,i,l):ut.log("html2canvas: Error loading <img>:"+t.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(t.type)&&(t.value||t.placeholder||"").length>0&&$(t,i,c);break;case"TEXTAREA":(t.value||t.placeholder||"").length>0&&$(t,i,c);break;case"SELECT":(t.options||t.placeholder||"").length>0&&$(t,i,c);break;case"LI":E(t,c,u);break;case"CANVAS":I(s,t,t,i,l)}return c}function ot(t){return"none"!==pt(t,"display")&&"hidden"!==pt(t,"visibility")&&!t.hasAttribute("data-html2canvas-ignore")}function at(t,e,n){ot(t)&&(e=rt(t,e,n,!1)||e,ht.test(t.nodeName)||it(t,e,n))}function it(t,e,n){ut.Children(t).forEach(function(r){r.nodeType===r.ELEMENT_NODE?at(r,e,n):r.nodeType===r.TEXT_NODE&&x(t,r,e)})}t.scroll(0,0);var ct=o.elements===n?e.body:o.elements[0],lt=0,st=ct.ownerDocument,ut=u.Util,dt=ut.Support(o,st),ht=new RegExp("("+o.ignoreElements+")"),ft=st.body,pt=ut.getCSS,gt="___html2canvas___pseudoelement",mt=st.createElement("style");mt.innerHTML="."+gt+'-before:before { content: "" !important; display: none !important; }.'+gt+'-after:after { content: "" !important; display: none !important; }',ft.appendChild(mt),r=r||{};var yt=function(t){return function(e,n,r,o){var a=r*t,i=o*t,c=e+r,l=n+o;return{topLeft:N({x:e,y:l},{x:e,y:l-i},{x:c-a,y:n},{x:c,y:n}),topRight:N({x:e,y:n},{x:e+a,y:n},{x:c,y:l-i},{x:c,y:l}),bottomRight:N({x:c,y:n},{x:c,y:n+i},{x:e+a,y:l},{x:e,y:l}),bottomLeft:N({x:c,y:l},{x:c-a,y:l},{x:e,y:n+i},{x:e,y:n})}}}((Math.sqrt(2)-1)/3*4),bt=/(matrix)\((.+)\)/;return function(){var t=pt(e.documentElement,"backgroundColor"),n=ut.isTransparent(t)&&ct===e.body,r=rt(ct,null,!1,n);return it(ct,r),n&&(t=r.backgroundColor),ft.removeChild(mt),{backgroundColor:t,stack:r}}()},u.Preload=function(r){function o(t){return S.href=t,S.href=S.href,S.protocol+S.host===g}function a(){w.log("html2canvas: start: images: "+v.numLoaded+" / "+v.numTotal+" (failed: "+v.numFailed+")"),!v.firstRun&&v.numLoaded>=v.numTotal&&(w.log("Finished loading images: # "+v.numTotal+" (failed: "+v.numFailed+")"),"function"==typeof r.complete&&r.complete(v))}function i(e,o,i){var c,l,s=r.proxy;S.href=e,e=S.href,c="html2canvas_"+x++,i.callbackname=c,s.indexOf("?")>-1?s+="&":s+="?",s+="url="+encodeURIComponent(e)+"&callback="+c,l=C.createElement("script"),t[c]=function(e){"error:"===e.substring(0,6)?(i.succeeded=!1,v.numLoaded++,v.numFailed++,a()):(p(o,i),o.src=e),t[c]=n;try{delete t[c]}catch(t){}l.parentNode.removeChild(l),l=null,delete i.script,delete i.callbackname},l.setAttribute("type","text/javascript"),l.setAttribute("src",s),i.script=l,t.document.body.appendChild(l)}function c(e,n){var r=t.getComputedStyle(e,n),o=r.content;"url"===o.substr(0,3)&&m.loadImage(u.Util.parseBackgroundImage(o)[0].args[0]),h(r.backgroundImage,e)}function l(t){c(t,":before"),c(t,":after")}function s(t,e){var r=u.Generate.Gradient(t,e);r!==n&&(v[t]={img:r,succeeded:!0},v.numTotal++,v.numLoaded++,a())}function d(t){return t&&t.method&&t.args&&t.args.length>0}function h(t,e){var r;u.Util.parseBackgroundImage(t).filter(d).forEach(function(t){"url"===t.method?m.loadImage(t.args[0]):t.method.match(/\-?gradient$/)&&(r===n&&(r=u.Util.Bounds(e)),s(t.value,r))})}function f(t){var e=!1;try{w.Children(t).forEach(f)}catch(t){}try{e=t.nodeType}catch(t){e=!1,w.log("html2canvas: failed to access some element's nodeType - Exception: "+t.message)}if(1===e||e===n){l(t);try{h(w.getCSS(t,"backgroundImage"),t)}catch(t){w.log("html2canvas: failed to get background-image - Exception: "+t.message)}h(t)}}function p(e,o){e.onload=function(){o.timer!==n&&t.clearTimeout(o.timer),v.numLoaded++,o.succeeded=!0,e.onerror=e.onload=null,a()},e.onerror=function(){if("anonymous"===e.crossOrigin&&(t.clearTimeout(o.timer),r.proxy)){var n=e.src;return e=new Image,o.img=e,e.src=n,void i(e.src,e,o)}v.numLoaded++,v.numFailed++,o.succeeded=!1,e.onerror=e.onload=null,a()}}var g,m,y,b,v={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},w=u.Util,x=0,T=r.elements[0]||e.body,C=T.ownerDocument,k=T.getElementsByTagName("img"),E=k.length,S=C.createElement("a"),M=function(t){return t.crossOrigin!==n}(new Image);for(S.href=t.location.href,g=S.protocol+S.host,m={loadImage:function(t){var e,a;t&&v[t]===n&&(e=new Image,t.match(/data:image\/.*;base64,/i)?(e.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),a=v[t]={img:e},v.numTotal++,p(e,a)):o(t)||!0===r.allowTaint?(a=v[t]={img:e},v.numTotal++,p(e,a),e.src=t):M&&!r.allowTaint&&r.useCORS?(e.crossOrigin="anonymous",a=v[t]={img:e},v.numTotal++,p(e,a),e.src=t):r.proxy&&(a=v[t]={img:e},v.numTotal++,i(t,e,a)))},cleanupDOM:function(o){var i,c;if(!v.cleanupDone){o&&"string"==typeof o?w.log("html2canvas: Cleanup because: "+o):w.log("html2canvas: Cleanup after timeout: "+r.timeout+" ms.");for(c in v)if(v.hasOwnProperty(c)&&"object"==typeof(i=v[c])&&i.callbackname&&i.succeeded===n){t[i.callbackname]=n;try{delete t[i.callbackname]}catch(t){}i.script&&i.script.parentNode&&(i.script.setAttribute("src","about:blank"),i.script.parentNode.removeChild(i.script)),v.numLoaded++,v.numFailed++,w.log("html2canvas: Cleaned up failed img: '"+c+"' Steps: "+v.numLoaded+" / "+v.numTotal)}t.stop!==n?t.stop():e.execCommand!==n&&e.execCommand("Stop",!1),e.close!==n&&e.close(),v.cleanupDone=!0,o&&"string"==typeof o||a()}},renderingDone:function(){b&&t.clearTimeout(b)}},r.timeout>0&&(b=t.setTimeout(m.cleanupDOM,r.timeout)),w.log("html2canvas: Preload starts: finding background-images"),v.firstRun=!0,f(T),w.log("html2canvas: Preload: Finding images"),y=0;y<E;y+=1)m.loadImage(k[y].getAttribute("src"));return v.firstRun=!1,w.log("html2canvas: Preload: Done."),v.numTotal===v.numLoaded&&a(),m},u.Renderer=function(t,r){return function(t){var e;if("string"==typeof r.renderer&&u.Renderer[t]!==n)e=u.Renderer[t](r);else{if("function"!=typeof t)throw new Error("Unknown renderer");e=t(r)}if("function"!=typeof e)throw new Error("Invalid renderer defined");return e}(r.renderer)(t,r,e,function(t){function e(t){Object.keys(t).sort().forEach(function(n){var r=[],a=[],i=[],c=[];t[n].forEach(function(t){t.node.zIndex.isPositioned||t.node.zIndex.opacity<1?i.push(t):t.node.zIndex.isFloated?a.push(t):r.push(t)}),function t(e){e.forEach(function(e){c.push(e),e.children&&t(e.children)})}(r.concat(a,i)),c.forEach(function(t){t.context?e(t.context):o.push(t.node)})})}var r,o=[];return r=function(t){function e(t,r,o){var a="auto"===r.zIndex.zindex?0:Number(r.zIndex.zindex),i=t,c=r.zIndex.isPositioned,l=r.zIndex.isFloated,s={node:r},u=o;r.zIndex.ownStacking?(i=s.context={"!":[{node:r,children:[]}]},u=n):(c||l)&&(u=s.children=[]),0===a&&o?o.push(s):(t[a]||(t[a]=[]),t[a].push(s)),r.zIndex.children.forEach(function(t){e(i,t,u)})}var r={};return e(r,t),r}(t),e(r),o}(t.stack),u)},u.Util.Support=function(t,e){return{rangeBounds:function(){var t,n,r,o,a=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),r=t.getBoundingClientRect(),o=r.height,123===o&&(a=!0),e.body.removeChild(n))),a}(),svgRendering:t.svgRendering&&function(){var t=new Image,r=e.createElement("canvas"),o=r.getContext!==n&&r.getContext("2d");if(!1===o)return!1;r.width=r.height=10,t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{o.drawImage(t,0,0),r.toDataURL()}catch(t){return!1}return u.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}()}},t.html2canvas=function(e,n){e=e.length?e:[e];var r,o,a={logging:!1,elements:e,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return a=u.Util.Extend(n,a),u.logging=a.logging,a.complete=function(t){"function"==typeof a.onpreloaded&&!1===a.onpreloaded(t)||(r=u.Parse(t,a),"function"==typeof a.onparsed&&!1===a.onparsed(r)||(o=u.Renderer(r,a),"function"==typeof a.onrendered&&a.onrendered(o)))},t.setTimeout(function(){u.Preload(a)},0),{render:function(t,e){return u.Renderer(t,u.Util.Extend(e,a))},parse:function(t,e){return u.Parse(t,u.Util.Extend(e,a))},preload:function(t){return u.Preload(u.Util.Extend(t,a))},log:u.Util.log}},t.html2canvas.log=u.Util.log,t.html2canvas.Renderer={Canvas:n},u.Renderer.Canvas=function(t){function r(t,e){t.beginPath(),e.forEach(function(e){t[e.name].apply(t,e.arguments)}),t.closePath()}function o(t){if(-1===c.indexOf(t.arguments[0].src)){s.drawImage(t.arguments[0],0,0);try{s.getImageData(0,0,1,1)}catch(t){return l=i.createElement("canvas"),s=l.getContext("2d"),!1}c.push(t.arguments[0].src)}return!0}function a(e,n){switch(n.type){case"variable":e[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{e.fillStyle=e.createPattern(n.arguments[0],"repeat")}catch(t){d.log("html2canvas: Renderer: Error creating pattern",t.message)}break;case"drawShape":r(e,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!t.taintTest||t.taintTest&&o(n))&&e.drawImage.apply(e,n.arguments);break;default:e[n.name].apply(e,n.arguments)}}}t=t||{};var i=e,c=[],l=e.createElement("canvas"),s=l.getContext("2d"),d=u.Util,h=t.canvas||i.createElement("canvas");return function(t,e,r,o,i){var c,l,s,u=h.getContext("2d"),f=t.stack;return h.width=h.style.width=e.width||f.ctx.width,h.height=h.style.height=e.height||f.ctx.height,s=u.fillStyle,u.fillStyle=d.isTransparent(f.backgroundColor)&&e.background!==n?e.background:t.backgroundColor,u.fillRect(0,0,h.width,h.height),u.fillStyle=s,o.forEach(function(t){u.textBaseline="bottom",u.save(),t.transform.matrix&&(u.translate(t.transform.origin[0],t.transform.origin[1]),u.transform.apply(u,t.transform.matrix),u.translate(-t.transform.origin[0],-t.transform.origin[1])),t.clip&&(u.beginPath(),u.rect(t.clip.left,t.clip.top,t.clip.width,t.clip.height),u.clip()),t.ctx.storage&&t.ctx.storage.forEach(function(t){a(u,t)}),u.restore()}),d.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===e.elements.length&&"object"==typeof e.elements[0]&&"BODY"!==e.elements[0].nodeName?(l=i.Util.Bounds(e.elements[0]),c=r.createElement("canvas"),c.width=Math.ceil(l.width),c.height=Math.ceil(l.height),u=c.getContext("2d"),u.drawImage(h,l.left,l.top,l.width,l.height,0,0,l.width,l.height),h=null,c):h}}}(window,document),function(){"use strict";var t=function(){this.thenTargets=[],this.pending=!0},e=function(e){return e&&e instanceof t},n=function(t){return t&&"function"==typeof t.then};t.prototype.resolve=function(t,r){if(t===r)throw new TypeError("resolve: arguments cannot be the same object");if(t===r)throw new TypeError("resolve: arguments cannot be the same object");e(r)||n(r)?r.then(t.fulfil.bind(t),t.reject.bind(t)):t.fulfil(r)},t.prototype.handleThenTargets=function(){var t,e,n,r;for(r=0;r<this.thenTargets.length;++r){this.fulfilled&&(e=this.thenTargets[r].onFulfilled,n=this.value),this.rejected&&(e=this.thenTargets[r].onRejected,n=this.reason);try{t=e&&"function"==typeof e?e.apply(void 0,n):this,this.resolve(this.thenTargets[r],t)}catch(t){this.thenTargets[r].reject(t)}}this.thenTargets=[]},t.prototype.handleThen=function(){this.pending||this.handleThenTargets()},t.prototype.then=function(e,n){var r=new t;return r.onFulfilled=e,r.onRejected=n,this.thenTargets.push(r),setTimeout(this.handleThen.bind(this),0),r},t.prototype.fulfil=function(){this.rejected||(this.fulfilled=!0,this.pending=!1,this.value=arguments,this.handleThenTargets())},t.prototype.reject=function(){this.fulfilled||(this.reason=arguments,this.rejected=!0,this.pending=!1,this.handleThenTargets())},this.Promise=t}.call(this);